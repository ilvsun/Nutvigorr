<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width. initial-scale=1.0">
    <title>Thanh toán</title>
    <script src="https://kit.fontawesome.com/834bf82ba3.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
        integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93ư35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous" />
    <link rel="stylesheet" href="checkout.css">
    <link rel="stylesheet" href="header.css">
    <link rel="icon" type="image/x-icon" href="images/Logo/3.png">

</head>
<body>
    <!-- Header và Navigation -->
    <header class="header">
        <div class="header-1">
            <a href="#" class="logo"><img src="images/Logo/4.png" alt="lg"></a>
            <form action="product.html" class="search-form" onsubmit="return searchProduct()">
                <input type="search" name="search" placeholder="Tìm kiếm" id="search-box">
                &emsp; <button type="submit"><i class="fas fa-search"></i></button>
            </form>
    
            <div class="icons">
                <div id="search-btn" class="fas fa-search"></div>
                <a href="sanphamyeuthich.html" class="fas fa-heart"></a>
                <a href="cart.html" class="fas fa-shopping-cart giohang">
                    <span id="countsp">0</span>
                  </a>
                <div id="login-btn" class="fas fa-user"></div>
                <div id="mobile" class="fas fa-outdent"></div>
            </div>
        </div>
    
        <div class="header-2">
            <ul id="navbar">
                <li><a href="index.html">Trang chủ</a></li>
            <li><a href="aboutus.html">Về chúng tôi</a></li>
            <li><a href="product.html">Sản phẩm</a>
                <ul class="dropdownnav">
                    <li><a href="#">Hạt dinh dưỡng</a></li>
                    <li><a href="granola.html">Granola - Hạt mix</a></li>
                    <li><a href="#">Các loại bánh</a></li>
                    <li><a href="#">Ngũ cốc</a></li>
                    <li><a href="#">Sữa hạt</a></li>
                </ul>
            </li>
            <li><a href="blog.html">Tin tức</a></li>
            <li><a href="lienhe.html">Liên hệ</a></li>
            <li><a href="#">Khuyến mãi</a></li>
        </div>
    </header>

    <!-- Main Content -->
    <section id="checkout" class="section-p1">
        <div id="info">
        <h3>Thông tin đặt hàng</h3>
        <!-- Bảng hiển thị sản phẩm từ giỏ hàng -->
        <table id="cart-table">
            <tbody>
                <!-- Nội dung sản phẩm sẽ được hiển thị ở đây bằng JavaScript -->
            </tbody>
            
        </table>
        <h3>Tổng đơn hàng</h3>
        <table>
            <tr>
                <td><strong class="tongtienDH" id="tong-tien-san-pham"></strong></td>
            </tr>
            <tr>
                <td><strong>Phí vận chuyển:</strong></td>
                <td><strong>30,000 VND</strong></td>
            </tr>
            <tr>
                <td><strong>Tổng cộng:</strong></td>
                <td><strong class="tongtienDH" id="tong-tien-don-hang"></strong></td>
            </tr>
        </table>
    </div>
        <!-- Form thông tin người mua -->
        <div id="customer-info">
            <h3>Thông tin người mua</h3>
            <form id="checkout-form">
                <input type="text" id="fullName" name="fullName" placeholder="Họ và tên" required>
                <input type="tel" id="phoneNumber" name="phoneNumber" placeholder="Số điện thoại" required>
                <div class="addres">
                    <select class="" id="city" ><option value="" selected>Chọn tỉnh thành</option></select> 
                    <select  id="district" ><option value="" selected>Chọn quận huyện</option></select> 
                    <select id="ward" ><option value="" selected>Chọn phường xã</option></select>
                </div>
                <input type="text" id="detailedAddress" name="address" placeholder="Địa chỉ cụ thể" required>                
                <textarea name="" id="" cols="30" rows="4" placeholder="Ghi chú"></textarea>
                <button type="submit">Đặt hàng</button>
            </form>
        </div>
    </section>
    <section id="newsletter">
        <div class="newstext">
            <h4>NHẬN THÔNG TIN CÁC CHƯƠNG TRÌNH CỦA CHÚNG TÔI</h4>
        </div>
        <div class="form-nlt">
            <input type="text" placeholder="Địa chỉ Email của bạn">
            <button class="normal-nlt">Đăng ký</button>
        </div>
      </section>

    <!-- Footer -->
    <section>
        <footer class="footer">
            <div class="col">
                <img class="logo" src="images/Logo/4.png" alt="logo">
                <h4>Liên hệ</h4>
                <P><strong>Địa chỉ :</strong> 12 chùa Bộc, P.Quang Trung, Q.Đống Đa, TP.Hà Nội</P>
                <P><strong>Điện thoại :</strong> 0985701435</P>
                <P><strong>Giờ mở cửa:</strong> 9:00 - 21:00 hàng ngày </P>
                <div class="follow">
                    <h4>Theo dõi chúng tôi</h4>
                    <div class="icon">
                    <i class="fab fa-facebook-f"></i>
                    <i class="fab fa-instagram"></i>
                    <i class="fab fa-facebook-messenger"></i>
                    <i class="fab fa-youtube"></i>
                    </div>
                </div>
            </div>
            <div class="col">
                <h4>Thông tin chung</h4>
                <a href="#">Trang chủ</a>
                <a href="#">Về chúng tôi</a>
                <a href="#">Sản phẩm</a>
                <a href="#">Tin Tức</a>
                <a href="#">Liên hệ</a>
                <a href="#">Khuyến mãi</a>
            </div>
            <div class="col">
                <h4>Cửa hàng</h4>
                <a href="#">Ưu đãi thành viên</a>
                <a href="#">Tài khoản</a>
                <a href="#">Tuyển dụng</a>
            </div>
            <div class="col">
                <h4>Chính sách</h4>
                <a href="#">Phương thức vận chuyển</a>
                <a href="#">Câu hỏi thường gặp</a>
                <a href="#">Thông tin pháp lý</a>
                <a href="#">Điền khoản sử dụng</a>
            </div>
            <div class="col install">
                <h4>Cài đặt App</h4>
                <div class="row">
                    <img src="images/pay/app.jpg" alt="">
                    <img src="images/pay/play.jpg" alt="">
                </div>
                <p>Cổng thanh toán bảo mật</p>
                <img src="images/pay/pay.png" alt="">
            </div>
        </footer>
    </section>

    <!-- Liên kết với thư viện jQuery và file JavaScript -->
    <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
    <script src="checkout.js"></script>
    <script src="search.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
        var citis = document.getElementById("city");
        var districts = document.getElementById("district");
        var wards = document.getElementById("ward");
        var Parameter = {
        url: "https://raw.githubusercontent.com/kenzouno1/DiaGioiHanhChinhVN/master/data.json", 
        method: "GET", 
        responseType: "application/json", 
        };
        var promise = axios(Parameter);
        promise.then(function (result) {
        renderCity(result.data);
        });
        
        function renderCity(data) {
        for (const x of data) {
            citis.options[citis.options.length] = new Option(x.Name, x.Id);
        }
        citis.onchange = function () {
            district.length = 1;
            ward.length = 1;
            if(this.value != ""){
            const result = data.filter(n => n.Id === this.value);
        
            for (const k of result[0].Districts) {
                district.options[district.options.length] = new Option(k.Name, k.Id);
            }
            }
        };
        district.onchange = function () {
            ward.length = 1;
            const dataCity = data.filter((n) => n.Id === citis.value);
            if (this.value != "") {
            const dataWards = dataCity[0].Districts.filter(n => n.Id === this.value)[0].Wards;
        
            for (const w of dataWards) {
                wards.options[wards.options.length] = new Option(w.Name, w.Id);
            }
            }
        };
        }
    </script>
    </body>
</html>
